void function(){function init(util,domReady,Api,Settings,modal,initialiser){function showConnectionAssistant(title,body,buttonTitle){var dialogueDefinition={title:title,body:body,animate:{animateIn:"slideInTop",animateOut:"fadeOut"},form:settings.dialogueDefinitions.connection.form};dialogueDefinition.form.inputs[0].placeholder=settings.get("host")||"localhost",dialogueDefinition.form.inputs[1].placeholder=settings.get("port")||6232,dialogueDefinition.form.callback=connectionAssistantHandler,dialogueDefinition.form.buttonTitle=buttonTitle,connectionAssistantId=modal.createSingle(dialogueDefinition)}function connectionAssistantHandler(inputs){var host=inputs[0].value?inputs[0].value:"localhost",port=inputs[1].value?inputs[1].value:6232;settings.set("host",host),settings.set("port",port),api.host=host,api.port=port,modal.hasDialogue(connectionAssistantId)&&modal.close(connectionAssistantId),throbberID=modal.open(throbber),api.connect()}function vibeApiDidConnect(){interfaceHasBeenInitialised||initialiser.call(self,function(){modal.hasDialogue(throbberID)&&modal.close(throbberID)})}function vibeApiDidReconnect(){initialiser.alertInterfaceToReconnection(),modal.hasDialogue(connectionAssistantId)&&modal.close(connectionAssistantId)}function vibeApiDidDisconnect(){initialiser.alertInterfaceToDisconnection(),showConnectionAssistant("Vibe lost connection to the server.","<p>Connection to the Vibe Server has been lost, please check your connection to the Internet has not been terminated and that your Vibe Server has not been turned off.</p><p>If your connection settings need to be adjusted, please change them below and press Reconnect.</p><p>Note: Once connection is restored this dialogue will automatically close.</p>","Reconnect")}function vibeApiDidThrowError(err){modal.hasDialogue(throbberID)&&modal.close(throbberID),!settings.get("host")&&!settings.get("port")?showConnectionAssistant("Welcome to Vibe!","<p>Before you can use Vibe, the address of your Vibe Server must be specified.</p><p>You can find the address of your Vibe Server by looking in its main window, where the address will be specified in the format of: hostname:portnumber.</p>","Go"):showConnectionAssistant("Vibe failed to connect.","<p>We could not connect to the Vibe Server at http://"+settings.get("host")+":"+settings.get("port")+", please check that this server is up, or if you have incorrectly entered the details you can change them below. When you're done just press reconnect.</p>","Reconnect")}throbber=util.createElement({tag:"div",customClass:"loading",id:"LoadingThrobber"}),self.settings=settings=new Settings("vibeSettings"),throbberID=modal.open(throbber),domReady(function(){self.api=api=new Api({host:settings.get("host"),port:settings.get("port"),onconnect:vibeApiDidConnect,ondisconnect:vibeApiDidDisconnect,onerror:vibeApiDidThrowError,onreconnect:vibeApiDidReconnect,autoconnect:!0})})}var util=this.util,api,settings,interfaceHasBeenInitialised=!1,self=this,throbberId,connnectionAssistantId,throbber;require.config({baseUrl:"src",paths:{lib:"../lib",image:"../images",stylesheet:"../stylesheets"},deps:["util","lib/domReady","api.vibe","model.settings","ui.widget.modalDialogue","ui.initialiser"],callback:init})}.call({}),define("../app",[],function(){})